<?xml-stylesheet href="/assets/architecture.css" type="text/css"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="588" height="496" viewBox="0 0 440.8 372.17"><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(14.4 357.77)"><title>architecture</title><polygon fill="#fff" stroke="transparent" points="-14.4 14.4 -14.4 -357.77 426.4 -357.77 426.4 14.4 -14.4 14.4"/><text x="206" y="-7.4" font-family="Iosevka" font-size="12" text-anchor="middle">Precise code intelligence architecture overview</text><g id="clust1" class="cluster"><title>cluster_services</title><polygon fill="none" stroke="#000" stroke-dasharray="1 5" points="8 -29 8 -214.38 294 -214.38 294 -29 8 -29"/></g><g id="clust2" class="cluster"><title>cluster_bundle_manager_services</title><polygon fill="none" stroke="#000" stroke-dasharray="1 5" points="16 -37 16 -206.38 126 -206.38 126 -37 16 -37"/></g><g id="clust3" class="cluster"><title>cluster_frontend</title><polygon fill="none" stroke="#000" stroke-dasharray="1 5" points="18 -262.38 18 -335.38 283 -335.38 283 -262.38 18 -262.38"/><text x="150.5" y="-321.77" font-family="Iosevka" font-size="12" text-anchor="middle">Frontend</text></g><g id="node1" class="node"><title>bundle_manager</title><g id="a_node1"><a target="_blank" xlink:href="https://github.com/sourcegraph/sourcegraph/tree/master/enterprise/cmd/precise-code-intel-bundle-manager" xlink:title="Bundle manager"><polygon fill="#ffffb3" stroke="#000" points="117.5 -198.38 24.5 -198.38 24.5 -162.38 117.5 -162.38 117.5 -198.38"/><text x="71" y="-177.88" font-family="Iosevka" font-size="10" text-anchor="middle">Bundle manager</text></a></g></g><g id="node2" class="node"><title>disk</title><path fill="#fff" stroke="#000" d="M98,-86.4C98,-88.7 85.9,-90.56 71,-90.56 56.1,-90.56 44,-88.7 44,-86.4 44,-86.4 44,-48.97 44,-48.97 44,-46.68 56.1,-44.81 71,-44.81 85.9,-44.81 98,-46.68 98,-48.97 98,-48.97 98,-86.4 98,-86.4"/><path fill="none" stroke="#000" d="M98,-86.4C98,-84.11 85.9,-82.25 71,-82.25 56.1,-82.25 44,-84.11 44,-86.4"/><text x="71" y="-65.19" font-family="Iosevka" font-size="10" text-anchor="middle">Disk</text></g><g id="edge3" class="edge"><title>bundle_manager:s-&gt;disk:n</title><path fill="none" stroke="#000" stroke-width=".6" d="M71,-162.38C71,-162.38 71,-124.77 71,-103.92"/><polygon fill="#ffffb3" stroke="#000" stroke-width=".6" points="75.73 -103.87 71 -90.38 66.28 -103.88 75.73 -103.87"/></g><g id="node7" class="node"><title>dbs</title><path fill="#fdb462" stroke="#000" d="M412,-86.4C412,-88.7 387.35,-90.56 357,-90.56 326.65,-90.56 302,-88.7 302,-86.4 302,-86.4 302,-48.97 302,-48.97 302,-46.68 326.65,-44.81 357,-44.81 387.35,-44.81 412,-46.68 412,-48.97 412,-48.97 412,-86.4 412,-86.4"/><path fill="none" stroke="#000" d="M412,-86.4C412,-84.11 387.35,-82.25 357,-82.25 326.65,-82.25 302,-84.11 302,-86.4"/><text x="357" y="-65.19" font-family="Iosevka" font-size="10" text-anchor="middle">Postgres / Gitserver</text></g><g id="edge6" class="edge"><title>bundle_manager:s-&gt;dbs:n</title><path fill="none" stroke="#000" stroke-width=".6" d="M71,-162.38C71,-162.38 287.05,-107.99 343.59,-93.75"/><polygon fill="#fdb462" stroke="#000" stroke-width=".6" points="345.06 -98.25 357 -90.38 342.75 -89.09 345.06 -98.25"/></g><g id="node3" class="node"><title>indexer</title><g id="a_node3"><a target="_blank" xlink:href="https://github.com/sourcegraph/sourcegraph/tree/master/enterprise/cmd/precise-code-intel-worker" xlink:title="Indexer"><polygon fill="#bebada" stroke="#000" points="285.5 -198.38 230.5 -198.38 230.5 -162.38 285.5 -162.38 285.5 -198.38"/><text x="258" y="-177.88" font-family="Iosevka" font-size="10" text-anchor="middle">Indexer</text></a></g></g><g id="edge7" class="edge"><title>indexer:s-&gt;dbs:n</title><path fill="none" stroke="#000" stroke-width=".6" d="M258,-162.38C258,-162.38 320.25,-117.1 346.03,-98.36"/><polygon fill="#fdb462" stroke="#000" stroke-width=".6" points="348.86 -102.14 357 -90.38 343.3 -94.49 348.86 -102.14"/></g><g id="node4" class="node"><title>worker</title><g id="a_node4"><a target="_blank" xlink:href="https://github.com/sourcegraph/sourcegraph/tree/master/enterprise/cmd/precise-code-intel-worker" xlink:title="Worker"><polygon fill="#fb8072" stroke="#000" points="201 -198.38 147 -198.38 147 -162.38 201 -162.38 201 -198.38"/><text x="174" y="-177.88" font-family="Iosevka" font-size="10" text-anchor="middle">Worker</text></a></g></g><g id="edge8" class="edge"><title>worker:s-&gt;dbs:n</title><path fill="none" stroke="#000" stroke-width=".6" d="M174,-162.38C174,-162.38 303.08,-111.59 344.42,-95.32"/><polygon fill="#fdb462" stroke="#000" stroke-width=".6" points="346.17 -99.71 357 -90.38 342.71 -90.92 346.17 -99.71"/></g><g id="node5" class="node"><title>http_api</title><g id="a_node5"><a target="_blank" xlink:href="https://github.com/sourcegraph/sourcegraph/tree/master/enterprise/internal/codeintel/httpapi" xlink:title="LSIF upload endpoint"><polygon fill="#80b1d3" stroke="#000" points="141.5 -306.38 26.5 -306.38 26.5 -270.38 141.5 -270.38 141.5 -306.38"/><text x="84" y="-285.88" font-family="Iosevka" font-size="10" text-anchor="middle">LSIF upload endpoint</text></a></g></g><g id="edge2" class="edge"><title>http_api:s-&gt;bundle_manager:n</title><path fill="none" stroke="#000" stroke-width=".6" d="M84,-269.38C84,-269.38 77.28,-233.21 73.51,-212.87"/><polygon fill="#8dd3c7" stroke="#000" stroke-width=".6" points="78.11 -211.79 71 -199.38 68.82 -213.51 78.11 -211.79"/></g><g id="edge5" class="edge"><title>http_api:s-&gt;dbs:n</title><path fill="none" stroke="#000" stroke-width=".6" d="M84,-269.38C84,-269.38 301,-214.38 301,-214.38 301,-214.38 337.26,-134.08 351.43,-102.72"/><polygon fill="#fdb462" stroke="#000" stroke-width=".6" points="355.75 -104.62 357 -90.38 347.14 -100.73 355.75 -104.62"/></g><g id="node6" class="node"><title>graphql_resolvers</title><g id="a_node6"><a target="_blank" xlink:href="https://github.com/sourcegraph/sourcegraph/tree/master/enterprise/internal/codeintel/resolvers/graphql" xlink:title="GraphQL resolvers"><polygon fill="#80b1d3" stroke="#000" points="275 -306.38 171 -306.38 171 -270.38 275 -270.38 275 -306.38"/><text x="223" y="-285.88" font-family="Iosevka" font-size="10" text-anchor="middle">GraphQL resolvers</text></a></g></g><g id="edge1" class="edge"><title>graphql_resolvers:s-&gt;bundle_manager:n</title><path fill="none" stroke="#000" stroke-width=".6" d="M223,-269.38C223,-269.38 119.74,-221.82 83.44,-205.1"/><polygon fill="#8dd3c7" stroke="#000" stroke-width=".6" points="85.24 -200.73 71 -199.38 81.29 -209.31 85.24 -200.73"/></g><g id="edge4" class="edge"><title>graphql_resolvers:s-&gt;dbs:n</title><path fill="none" stroke="#000" stroke-width=".6" d="M223,-269.38C223,-269.38 352,-214.38 352,-214.38 352,-214.38 355.14,-136.4 356.45,-104.12"/><polygon fill="#fdb462" stroke="#000" stroke-width=".6" points="361.18 -104.05 357 -90.38 351.73 -103.67 361.18 -104.05"/></g></g></svg>